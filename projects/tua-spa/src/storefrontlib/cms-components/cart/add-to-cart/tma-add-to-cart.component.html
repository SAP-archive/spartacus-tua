<!--
SPDX-FileCopyrightText: 2020 2020 SAP SE or an SAP affiliate company <deborah.cholmeley-jones@sap.com>

SPDX-License-Identifier: Apache-2.0
-->

<div *ngIf="currentCart$ | async as currentCart">
  <div class="quantity" *ngIf="productCode && showQuantity">
    <label>{{ 'addToCart.quantity' | cxTranslate }}</label>
    <cx-item-counter
      [value]="quantity"
      isValueChangeable="true"
      [min]="1"
      [max]="maxQuantity || null"
      *ngIf="hasStock"
      (update)="updateCount($event)"
    ></cx-item-counter>
    <span class="info">{{
      hasStock
        ? ('addToCart.inStock' | cxTranslate)
        : ('addToCart.outOfStock' | cxTranslate)
      }}</span>
  </div>
  <button
    *ngIf="hasStock"
    class="btn btn-primary btn-block"
    type="button"
    [disabled]="quantity <= 0 || quantity > maxQuantity"
    (click)="addSpoToCart(currentCart)"
  >
    {{ 'addToCart.addToCart' | cxTranslate }}
  </button>
</div>
